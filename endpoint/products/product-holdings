## Product Holdings [/product-holdings]
Product Holdings endpoint allows you to list / view all the product holdings of the logged in customer. Responses from this endpoint will be retuned in JSON format only.

#### Energy product holding
Energy product holding as a resource represents following information

| Property | Type | As request | As response | Description |
| :-------------------- | :---------- | :---------- | :---------- | ------------------------------------------------------------ |
| id | string | `Not Applicable` | `Returned always` | Combination of account number and product code is considered as the unique identifier. |
| type | string | `Not Applicable` | `Returned always` | Specifies which data model is supported by the resources, it will be EnergyProductHolding. |
| moveInDate | string | `Not Applicable` | `Returned always` | Date when the product is moved to the address, in dd/MM/yyyy format. |
| moveOutDate | string | `Not Applicable` | `Returned always` | Date when the product will be moved out the address, in dd/MM/yyyy format, by default this is 31/12/9999 |
| productCode | string | `Not Applicable` | `Returned always` | Product code, 1601 for gas and 1602 for electricity. |
| tariff | string | `Not Applicable` | `Returned always` | Identifies the tariff associated to the product, if available. Tariff can be sideloaded upon request |
| productTypeDescription | string | `Not Applicable` | `Returned always` | Product description of the product, if available. |
| account | string | `Not Applicable` | `Returned always` | Account number to which the product is linked, if available. | 
| energyAccount | string | `Not Applicable` | `Returned always` | Energy account number to which the product is linked, if available. | 
| propositionId | string | `Not Applicable` | `Returned always` | Proposition id for the product. |
| tariffEnergySmart | boolean | `Not Applicable` | `Returned always` | Indicates that the product has energy smart tariff if the value is true. |
| monthlyBilling | boolean | `Not Applicable` | `Returned always` | Indicates that the product is monthly billed if the value is true. |
| smartMonthlyBilling | boolean | `Not Applicable` | `Returned always` | Indicates that the product is smart monthly billed if the value is true. |
| smartMeterProduct | boolean | `Not Applicable` | `Returned always` | Indicates that the product is having a smart meter if the value is true. |
| features | Array of string | `Not Applicable` | `Returned always` | Mentions any specific features of the product |
| monthlyBillingData | Complex type | `Not Applicable` | `Returned always` | All the monthly billing information which includes current bill day, estimated read counter, installment date, signup date, current proposition id and next bill date. |

### Services product holding
Services product holding as a resource represents following information

| Property | Type | As request | As response | Description |
| :-------------------- | :---------- | :---------- | :---------- | ------------------------------------------------------------ |
| id | string | `Not Applicable` | `Returned always` | Combination of account number and product code is considered as the unique identifier. |
| type | string | `Not Applicable` | `Returned always` | Specifies which data model is supported by the resources, it will be ServicesProductHolding. |
| productCode | string | `Not Applicable` | `Returned always` | Product code of the product. |
| customerId | string | `Not Applicable` | `Returned always` | Customer id associated to the product, if available. |
| productTypeDescription | string | `Not Applicable` | `Returned always` | Product description of the product, if available. |
| productName | string | `Not Applicable` | `Returned always` | Name of the product, if available. |
| account | string | `Not Applicable` | `Returned always` | Account number to which the product is linked, if available. | 
| servicesAccount | string | `Not Applicable` | `Returned always` | Services account number to which the product is linked, if available. | 
| propositionId | string | `Not Applicable` | `Returned always` | Proposition id for the product. |
| premiseId | string | `Not Applicable` | `Returned always` | Premise id associated to the product, if available. |
| plumbingAndDrains | boolean | `Not Applicable` | `Returned always` | Indicates that the product has plumbing and drains, if the value is true. |
| crossSellProduct | boolean | `Not Applicable` | `Returned always` | Indicates that the product is a cross sell product, if the value is true. |
| features | Array of string | `Not Applicable` | `Returned always` | Mentions any specific features of the product. |
| bundleProduct | boolean | `Not Applicable` | `Returned always` | Indicates that the product is a bundle product, if the value is true. |
| appliances | Array of string | `Not Applicable` | `Returned always` | All the appliances associated to the product. |
| excess | string | `Not Applicable` | `Returned always` | Mentions the excess amount selected for services product. |
| levelOfService | string | `Not Applicable` | `Returned always` | Level of service associated for services product. |
| product | string | `Not Applicable` | `Returned always` | Product code mapped to level of service, this is the id to Product resource. |
| bundleCode | string | `Not Applicable` | `Returned always` | Bundle code mapped to level of service. |
| asvAvailable | boolean | `Not Applicable` | `Returned always` | Indicates that Annual Service Visit is applicable for this product, if the value is true. |

### Order product holding
Order product holding as a resource represents following information

| Property | Type | As request | As response | Description |
| :-------------------- | :---------- | :---------- | :---------- | ------------------------------------------------------------ |
| id | string | `Not Applicable` | `Returned always` |  Combination of order number and product code is considered as the unique identifier. |
| type | string | `Not Applicable` | `Returned always` |  Specifies which data model is supported by the resources, it will be OrderProductHolding. |
| productCode | string | `Not Applicable` | `Returned always` |  Product type, Gas for gas and Electricity for electricity. |
| account | string | `Not Applicable` | `Returned always` |  Order number to which the product is linked, if available. | 

### Retrieve all Product holdings [GET /product-holdings]
+ Request

    + Headers

            Authorization: Bearer {accesstoken}
            cid: 05e230bf-a9cf-4b31-bc54-d3a995f62526

+ Response 200 (application/json)

            {
                "status": "SUCCESS",
                "data": {
                    "productHoldings": [
                        {
                            "smartMonthlyBilling": false,
                            "moveInDate": "01/01/2014",
                            "moveOutDate": "31/12/9999",
                            "productCode": "1601",
                            "monthlyBillingData": {
                                "currentBillDay": "0",
                                "estimatedReadCounter": "0",
                                "installmentDate": null,
                                "signUpDate": null,
                                "currentPropositionId": "00",
                                "nextBillDate": null
                            },
                            "tariff": "standard",
                            "monthlyBilling": false,
                            "type": "EnergyProductHolding",
                            "id": "851002262167-1601",
                            "tariffEnergySmart": false,
                            "productTypeDescription": "Gas",
                            "features": [
                                "Standard"
                            ],
                            "account": "851002262167",
                            "energyAccount": "851002262167",
                            "propositionId": "00",
                            "smartMeterProduct": false
                        },
                        {
                            "smartMonthlyBilling": false,
                            "moveInDate": "01/01/2014",
                            "moveOutDate": "31/12/9999",
                            "productCode": "1602",
                            "monthlyBillingData": {
                                "currentBillDay": "0",
                                "estimatedReadCounter": "0",
                                "installmentDate": null,
                                "signUpDate": null,
                                "currentPropositionId": "00",
                                "nextBillDate": null
                            },
                            "tariff": "standard",
                            "monthlyBilling": false,
                            "type": "EnergyProductHolding",
                            "id": "851002262167-1602",
                            "tariffEnergySmart": false,
                            "productTypeDescription": "Electricity",
                            "features": [
                                "Standard"
                            ],
                            "account": "851002262167",
                            "energyAccount": "851002262167",
                            "propositionId": "00",
                            "smartMeterProduct": false
                        },
                        {
                            "productCode": "ZFI1",
                            "plumbingAndDrains": false,
                            "type": "ServicesProductHolding",
                            "id": "911000156354-ZFI1",
                            "customerId": "22212484",
                            "productTypeDescription": "HomeCare 300(TM)",
                            "crossSellProduct": false,
                            "features": [
                                "Boiler & controls",
                                "First service visit"
                            ],
                            "account": "911000156354",
                            "servicesAccount": "911000156354",
                            "propositionId": "1",
                            "premiseId": "L280628",
                            "productName": "Central Heating - £99 Excess",
                            "bundleCode": "HC300",
                            "levelOfService": "3FI1",
                            "excess": 99,
                            "product": "HC300-CH",
                            "appliances": [
                                "Central Heating - £99 Excess"
                            ],
                            "asvAvailable": true,
                            "bundleProduct": true
                        },
                        {
                            "productCode": "ZPDI",
                            "plumbingAndDrains": true,
                            "type": "ServicesProductHolding",
                            "id": "911000156354-ZPDI",
                            "customerId": "22212484",
                            "productTypeDescription": "HomeCare 300(TM)",
                            "crossSellProduct": false,
                            "features": [
                                "Boiler & controls",
                                "Plumbing & drains",
                                "First service visit"
                            ],
                            "account": "911000156354",
                            "servicesAccount": "911000156354",
                            "propositionId": "0",
                            "premiseId": "L280628",
                            "productName": "Plumbing & Drains Cover (TM)",
                            "bundleCode": "HC300",
                            "levelOfService": "2PDI",
                            "excess": 0,
                            "product": "HC300-PD",
                            "appliances": [
                                "Drains",
                                "Plumbing"
                            ],
                            "asvAvailable": false,
                            "bundleProduct": true
                        },
                        {
                            "id": "2005895634-Gas",
                            "productCode": "Gas",
                            "account": "2005895634",
                            "type": "OrderProductHolding"
                        }
                    ]
                },
                "errors": {},
                "meta": {}
            }

+ Response 401 (application/json)

            {
                "status": "FAIL",
                "data": {},
                "errors": [
                    {
                        "code": "authorize",
                        "message": "access_denied"
                    }
                ],
                "meta": {}
            }

+ Response 500 (application/json)

            {
                "status": "FAIL",
                "data": {},
                "errors": [
                    {
                        "code": "productHoldings",
                        "message": "error.product.notFound.911000030791"
                    }
                ],
                "meta": {}
            }
            
### Retrieve product holdings for specific accounts [GET /product-holdings{?accountNumber*}]
+ Parameters

    + accountNumber (string) - This is the customers account number

+ Request

    + Headers

            Authorization: Bearer {accesstoken}
            cid: 05e230bf-a9cf-4b31-bc54-d3a995f62526

+ Response 200 (application/json)

            {
                "status": "SUCCESS",
                "data": {
                    "productHoldings": [
                        {
                            "smartMonthlyBilling": false,
                            "moveInDate": "01/01/2014",
                            "moveOutDate": "31/12/9999",
                            "productCode": "1601",
                            "monthlyBillingData": {
                                "currentBillDay": "0",
                                "estimatedReadCounter": "0",
                                "installmentDate": null,
                                "signUpDate": null,
                                "currentPropositionId": "00",
                                "nextBillDate": null
                            },
                            "tariff": "standard",
                            "monthlyBilling": false,
                            "type": "EnergyProductHolding",
                            "id": "851002262167-1601",
                            "tariffEnergySmart": false,
                            "productTypeDescription": "Gas",
                            "features": [
                                "Standard"
                            ],
                            "account": "851002262167",
                            "energyAccount": "851002262167",
                            "propositionId": "00",
                            "smartMeterProduct": false
                        },
                        {
                            "smartMonthlyBilling": false,
                            "moveInDate": "01/01/2014",
                            "moveOutDate": "31/12/9999",
                            "productCode": "1602",
                            "monthlyBillingData": {
                                "currentBillDay": "0",
                                "estimatedReadCounter": "0",
                                "installmentDate": null,
                                "signUpDate": null,
                                "currentPropositionId": "00",
                                "nextBillDate": null
                            },
                            "tariff": "standard",
                            "monthlyBilling": false,
                            "type": "EnergyProductHolding",
                            "id": "851002262167-1602",
                            "tariffEnergySmart": false,
                            "productTypeDescription": "Electricity",
                            "features": [
                                "Standard"
                            ],
                            "account": "851002262167",
                            "energyAccount": "851002262167",
                            "propositionId": "00",
                            "smartMeterProduct": false
                        }
                    ]
                },
                "errors": {},
                "meta": {}
            }


+ Response 401 (application/json)

            {
                "status": "FAIL",
                "data": {},
                "errors": [
                    {
                        "code": "authorize",
                        "message": "access_denied"
                    }
                ],
                "meta": {}
            }

+ Response 400 (application/json)

            {
                "status": "ERROR",
                "data": {},
                "errors": [
                    {
                        "code": "accountNumber",
                        "message": "error.client.accountnumber.invalid"
                    }
                ],
                "meta": {}
            }


+ Response 401 (application/json)

            {
                "status": "ERROR",
                "data": {},
                "errors": [
                    {
                        "code": "accountNumber",
                        "message": "error.client.accountnumber.invalid"
                    }
                ],
                "meta": {}
            }

+ Response 500 (application/json)

            {
                "status": "ERROR",
                "data": {},
                "errors": [
                    {
                        "code": "productHoldings",
                        "message": "error.product.notFound.911000030791"
                    }
                ],
                "meta": {}
            }

### Retrieve product holdings using product id [GET /product-holdings/{id}]
+ Parameters

    + id (string) - Product id

+ Request

    + Headers

            Authorization: Bearer {accesstoken}
            cid: 05e230bf-a9cf-4b31-bc54-d3a995f62526

+ Response 200 (application/json)

            {
                "status": "SUCCESS",
                "data": {
                    "productHolding": {
                        "productCode": "ZFI1",
                        "plumbingAndDrains": false,
                        "type": "ServicesProductHolding",
                        "id": "911000156354-ZFI1",
                        "customerId": "22212484",
                        "productTypeDescription": "HomeCare 300(TM)",
                        "isCrossSellProduct": false,
                        "features": [
                            "Boiler & controls",
                            "First service visit"
                        ],
                        "account": "911000156354",
                        "servicesAccount": "911000156354",
                        "propositionId": "1",
                        "premiseId": "L280628",
                        "productName": "Central Heating - £99 Excess",
                        "bundleCode": "HC300",
                        "levelOfService": "3FI1",
                        "excess": 99,
                        "product": "HC300-CH",
                        "appliances": [
                            "Central Heating - £99 Excess"
                        ],
                        "asvAvailable": true,
                        "bundleProduct": true
                    }
                },
                "errors": {},
                "meta": {}
            }

+ Response 401 (application/json)

            {
                "status": "FAIL",
                "data": {},
                "errors": [
                    {
                        "code": "authorize",
                        "message": "access_denied"
                    }
                ],
                "meta": {}
            }


+ Response 404 (application/json)

            {
                "status": "ERROR",
                "data": {},
                "errors": [
                    {
                        "code": "productId",
                        "message": "error.client.product.notfound"
                    }
                ],
                "meta": {}
            }

+ Response 400 (application/json)

            {
                "status": "ERROR",
                "data": {},
                "errors": [
                    {
                        "code": "productId",
                        "message": "error.client.productId.invalid"
                    }
                ],
                "meta": {}
            }
